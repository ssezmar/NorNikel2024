{"ast":null,"code":"var _jsxFileName = \"/home/ssezmar/programming/xakatons/NorNikel2024/frontend2/llm-frontend/src/App.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\nfunction App() {\n  const [question, setQuestion] = useState('');\n  const [answer, setAnswer] = useState('');\n  const [images, setImages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [file, setFile] = useState(null); // Для загрузки файла\n\n  const sendQuestion = async () => {\n    if (!question.trim()) return;\n    setLoading(true);\n    try {\n      const formData = new FormData();\n      formData.append('question', question);\n      if (file) formData.append('file', file); // Добавляем файл, если выбран\n\n      const response = await axios.post('http://127.0.0.1:8000/ask', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setAnswer(response.data.answer);\n      setImages(response.data.images);\n    } catch (error) {\n      console.error('Ошибка при отправке вопроса:', error);\n      setAnswer('Произошла ошибка. Попробуйте позже.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFileChange = event => {\n    setFile(event.target.files[0]); // Сохраняем выбранный файл\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"App-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, \"FastAPI \\u0427\\u0430\\u0442\")), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441...\",\n    value: question,\n    onChange: e => setQuestion(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: sendQuestion,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, loading ? 'Отправка...' : 'Отправить')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"response-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, \"\\u041E\\u0442\\u0432\\u0435\\u0442:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, answer), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, \"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"images-grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, images.map((img, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"image-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: `http://127.0.0.1:8000${img.url}`,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: `http://127.0.0.1:8000${img.url}`,\n    alt: `Страница ${img.page}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 19\n    }\n  }, img.filename, \" - \\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \", img.page))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"file-upload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0444\\u0430\\u0439\\u043B\\u043E\\u0432 \\u0432 \\u0431\\u0430\\u0437\\u0443 \\u0437\\u043D\\u0430\\u043D\\u0438\\u0439:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: handleFileChange,\n    accept: \".txt, .pdf\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }), file && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 22\n    }\n  }, \"\\u0412\\u044B\\u0431\\u0440\\u0430\\u043D \\u0444\\u0430\\u0439\\u043B: \", file.name), \" \"), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"))));\n}\nexport default App;","map":{"version":3,"names":["React","useState","axios","App","question","setQuestion","answer","setAnswer","images","setImages","loading","setLoading","file","setFile","sendQuestion","trim","formData","FormData","append","response","post","headers","data","error","console","handleFileChange","event","target","files","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","onClick","disabled","map","img","index","key","href","url","rel","src","alt","page","filename","type","accept","name"],"sources":["/home/ssezmar/programming/xakatons/NorNikel2024/frontend2/llm-frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nfunction App() {\n  const [question, setQuestion] = useState('');\n  const [answer, setAnswer] = useState('');\n  const [images, setImages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [file, setFile] = useState(null); // Для загрузки файла\n\n  const sendQuestion = async () => {\n    if (!question.trim()) return;\n    setLoading(true);\n\n    try {\n      const formData = new FormData();\n      formData.append('question', question);\n      if (file) formData.append('file', file); // Добавляем файл, если выбран\n\n      const response = await axios.post('http://127.0.0.1:8000/ask', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      setAnswer(response.data.answer);\n      setImages(response.data.images);\n    } catch (error) {\n      console.error('Ошибка при отправке вопроса:', error);\n      setAnswer('Произошла ошибка. Попробуйте позже.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleFileChange = (event) => {\n    setFile(event.target.files[0]); // Сохраняем выбранный файл\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>FastAPI Чат</h1>\n      </header>\n      <main>\n        <div className=\"chat-container\">\n          <div className=\"input-area\">\n            <textarea\n              placeholder=\"Введите ваш вопрос...\"\n              value={question}\n              onChange={(e) => setQuestion(e.target.value)}\n            />\n            <button onClick={sendQuestion} disabled={loading}>\n              {loading ? 'Отправка...' : 'Отправить'}\n            </button>\n          </div>\n\n          \n\n          <div className=\"response-area\">\n            <h2>Ответ:</h2>\n            <p>{answer}</p>\n            <h3>Изображения:</h3>\n            <div className=\"images-grid\">\n              {images.map((img, index) => (\n                <div key={index} className=\"image-item\">\n                  <a href={`http://127.0.0.1:8000${img.url}`} target=\"_blank\" rel=\"noopener noreferrer\">\n                    <img src={`http://127.0.0.1:8000${img.url}`} alt={`Страница ${img.page}`} />\n                  </a>\n                  <p>{img.filename} - Страница {img.page}</p>\n                </div>\n              ))}\n            </div>\n          </div>\n          {/* Загрузка файла */}\n          <div className=\"file-upload\">\n            <h2>Добавление файлов в базу знаний:</h2>\n            <input\n              type=\"file\"\n              onChange={handleFileChange}\n              accept=\".txt, .pdf\"\n            />\n            {file && <p>Выбран файл: {file.name}</p>} {/* Отображаем имя выбранного файла */}\n          </div>\n          <button>\n              Отправить\n            </button>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,WAAW;AAElB,SAASC,GAAGA,CAAA,EAAG;EACb,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGJ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACK,MAAM,EAAEC,SAAS,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACO,MAAM,EAAEC,SAAS,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACW,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;;EAExC,MAAMa,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAACV,QAAQ,CAACW,IAAI,CAAC,CAAC,EAAE;IACtBJ,UAAU,CAAC,IAAI,CAAC;IAEhB,IAAI;MACF,MAAMK,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEd,QAAQ,CAAC;MACrC,IAAIQ,IAAI,EAAEI,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEN,IAAI,CAAC,CAAC,CAAC;;MAEzC,MAAMO,QAAQ,GAAG,MAAMjB,KAAK,CAACkB,IAAI,CAAC,2BAA2B,EAAEJ,QAAQ,EAAE;QACvEK,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC,CAAC;MACFd,SAAS,CAACY,QAAQ,CAACG,IAAI,CAAChB,MAAM,CAAC;MAC/BG,SAAS,CAACU,QAAQ,CAACG,IAAI,CAACd,MAAM,CAAC;IACjC,CAAC,CAAC,OAAOe,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACpDhB,SAAS,CAAC,qCAAqC,CAAC;IAClD,CAAC,SAAS;MACRI,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMc,gBAAgB,GAAIC,KAAK,IAAK;IAClCb,OAAO,CAACa,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClC,CAAC;EAED,oBACE5B,KAAA,CAAA6B,aAAA;IAAKC,SAAS,EAAC,KAAK;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAClBpC,KAAA,CAAA6B,aAAA;IAAQC,SAAS,EAAC,YAAY;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC5BpC,KAAA,CAAA6B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,4BAAe,CACb,CAAC,eACTpC,KAAA,CAAA6B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACEpC,KAAA,CAAA6B,aAAA;IAAKC,SAAS,EAAC,gBAAgB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC7BpC,KAAA,CAAA6B,aAAA;IAAKC,SAAS,EAAC,YAAY;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACzBpC,KAAA,CAAA6B,aAAA;IACEQ,WAAW,EAAC,uGAAuB;IACnCC,KAAK,EAAElC,QAAS;IAChBmC,QAAQ,EAAGC,CAAC,IAAKnC,WAAW,CAACmC,CAAC,CAACb,MAAM,CAACW,KAAK,CAAE;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC9C,CAAC,eACFpC,KAAA,CAAA6B,aAAA;IAAQY,OAAO,EAAE3B,YAAa;IAAC4B,QAAQ,EAAEhC,OAAQ;IAAAqB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC9C1B,OAAO,GAAG,aAAa,GAAG,WACrB,CACL,CAAC,eAINV,KAAA,CAAA6B,aAAA;IAAKC,SAAS,EAAC,eAAe;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC5BpC,KAAA,CAAA6B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,iCAAU,CAAC,eACfpC,KAAA,CAAA6B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI9B,MAAU,CAAC,eACfN,KAAA,CAAA6B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,qEAAgB,CAAC,eACrBpC,KAAA,CAAA6B,aAAA;IAAKC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACzB5B,MAAM,CAACmC,GAAG,CAAC,CAACC,GAAG,EAAEC,KAAK,kBACrB7C,KAAA,CAAA6B,aAAA;IAAKiB,GAAG,EAAED,KAAM;IAACf,SAAS,EAAC,YAAY;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACrCpC,KAAA,CAAA6B,aAAA;IAAGkB,IAAI,EAAE,wBAAwBH,GAAG,CAACI,GAAG,EAAG;IAACrB,MAAM,EAAC,QAAQ;IAACsB,GAAG,EAAC,qBAAqB;IAAAlB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACnFpC,KAAA,CAAA6B,aAAA;IAAKqB,GAAG,EAAE,wBAAwBN,GAAG,CAACI,GAAG,EAAG;IAACG,GAAG,EAAE,YAAYP,GAAG,CAACQ,IAAI,EAAG;IAAArB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAC1E,CAAC,eACJpC,KAAA,CAAA6B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAIQ,GAAG,CAACS,QAAQ,EAAC,sDAAY,EAACT,GAAG,CAACQ,IAAQ,CACvC,CACN,CACE,CACF,CAAC,eAENpD,KAAA,CAAA6B,aAAA;IAAKC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1BpC,KAAA,CAAA6B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,yKAAoC,CAAC,eACzCpC,KAAA,CAAA6B,aAAA;IACEyB,IAAI,EAAC,MAAM;IACXf,QAAQ,EAAEd,gBAAiB;IAC3B8B,MAAM,EAAC,YAAY;IAAAxB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACpB,CAAC,EACDxB,IAAI,iBAAIZ,KAAA,CAAA6B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,iEAAa,EAACxB,IAAI,CAAC4C,IAAQ,CAAC,EAAC,GACtC,CAAC,eACNxD,KAAA,CAAA6B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAQ,wDAEE,CACP,CACD,CACH,CAAC;AAEV;AAEA,eAAejC,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module"}