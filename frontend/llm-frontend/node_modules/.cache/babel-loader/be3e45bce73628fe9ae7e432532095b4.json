{"ast":null,"code":"var _jsxFileName = \"/home/ssezmar/programming/xakatons/NorNikel2024/frontend2/llm-frontend/src/App.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\nfunction App() {\n  const [question, setQuestion] = useState('');\n  const [answer, setAnswer] = useState('');\n  const [images, setImages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [file, setFile] = useState(null);\n  const sendQuestion = async () => {\n    if (!question.trim()) return;\n    setLoading(true);\n    try {\n      const response = await axios.post('http://127.0.0.1:8000/ask', {\n        question\n      });\n      setAnswer(response.data.answer);\n      setImages(response.data.images);\n    } catch (error) {\n      console.error('Ошибка при отправке вопроса:', error);\n      setAnswer('Произошла ошибка. Попробуйте позже.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFileChange = event => {\n    // setFile(event.target.files[0]); // Сохраняем выбранный файл\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"App-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, \"NonNikel Finder \\u0427\\u0430\\u0442\")), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441...\",\n    value: question,\n    onChange: e => setQuestion(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: sendQuestion,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, loading ? 'Отправка...' : 'Отправить')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"response-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"\\u041E\\u0442\\u0432\\u0435\\u0442:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, answer), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, \"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u044B PDF \\u0424\\u0430\\u043B\\u043E\\u0432 \\u043D\\u0430 \\u043E\\u0441\\u043D\\u043E\\u0432\\u0435 \\u043A\\u043E\\u0442\\u043E\\u0440\\u044B\\u0445 \\u0431\\u044B\\u043B \\u0441\\u0444\\u043E\\u0440\\u043C\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D \\u043E\\u0442\\u0432\\u0435\\u0442:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"images-grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, images.map((img, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"image-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: `http://127.0.0.1:8000${img.url}`,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: `http://127.0.0.1:8000${img.url}`,\n    alt: `Страница ${img.page}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 19\n    }\n  }, img.filename, \" - \\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \", img.page))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"file-upload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0444\\u0430\\u0439\\u043B\\u043E\\u0432 \\u0432 \\u0431\\u0430\\u0437\\u0443 \\u0437\\u043D\\u0430\\u043D\\u0438\\u0439:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: handleFileChange,\n    accept: \".txt, .pdf\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }), file && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 22\n    }\n  }, \"\\u0412\\u044B\\u0431\\u0440\\u0430\\u043D \\u0444\\u0430\\u0439\\u043B: \", file.name))), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\")));\n}\nexport default App;","map":{"version":3,"names":["React","useState","axios","App","question","setQuestion","answer","setAnswer","images","setImages","loading","setLoading","file","setFile","sendQuestion","trim","response","post","data","error","console","handleFileChange","event","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","onClick","disabled","map","img","index","key","href","url","rel","src","alt","page","filename","type","accept","name"],"sources":["/home/ssezmar/programming/xakatons/NorNikel2024/frontend2/llm-frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nfunction App() {\n  const [question, setQuestion] = useState('');\n  const [answer, setAnswer] = useState('');\n  const [images, setImages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [file, setFile] = useState(null); \n\n  const sendQuestion = async () => {\n    if (!question.trim()) return;\n    setLoading(true);\n\n    try {\n      const response = await axios.post('http://127.0.0.1:8000/ask', { question });\n      setAnswer(response.data.answer);\n      setImages(response.data.images);\n    } catch (error) {\n      console.error('Ошибка при отправке вопроса:', error);\n      setAnswer('Произошла ошибка. Попробуйте позже.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFileChange = (event) => {\n    // setFile(event.target.files[0]); // Сохраняем выбранный файл\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>NonNikel Finder Чат</h1>\n      </header>\n      <main>\n        <div className=\"chat-container\">\n          <div className=\"input-area\">\n            <textarea\n              placeholder=\"Введите ваш вопрос...\"\n              value={question}\n              onChange={(e) => setQuestion(e.target.value)}\n            />\n            <button onClick={sendQuestion} disabled={loading}>\n              {loading ? 'Отправка...' : 'Отправить'}\n            </button>\n          </div>\n          <div className=\"response-area\">\n            <h2>Ответ:</h2>\n            <p>{answer}</p>\n            <h3>Страницы PDF Фалов на основе которых был сформирован ответ:</h3>\n            <div className=\"images-grid\">\n              {images.map((img, index) => (\n                <div key={index} className=\"image-item\">\n                  <a href={`http://127.0.0.1:8000${img.url}`} target=\"_blank\" rel=\"noopener noreferrer\">\n                    <img src={`http://127.0.0.1:8000${img.url}`} alt={`Страница ${img.page}`} />\n                  </a>\n                  <p>{img.filename} - Страница {img.page}</p>\n                </div>\n              ))}\n            </div>\n          </div>\n          {/* Загрузка файла */}\n          <div className=\"file-upload\">\n            <h2>Добавление файлов в базу знаний:</h2>\n            <input\n              type=\"file\"\n              onChange={handleFileChange}\n              accept=\".txt, .pdf\"\n            />\n            {file && <p>Выбран файл: {file.name}</p>}{/* Отображаем имя выбранного файла */}\n          </div>\n        </div>\n        <button>\n              Добавить\n        </button>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}