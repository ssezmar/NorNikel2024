{"ast":null,"code":"var _jsxFileName = \"/home/ssezmar/programming/xakatons/NorNikel2024/frontend2/llm-frontend/src/App.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\nfunction App() {\n  const [question, setQuestion] = useState('');\n  const [answer, setAnswer] = useState('');\n  const [images, setImages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  onst[file, setFile] = useState(null);\n  const sendQuestion = async () => {\n    if (!question.trim()) return;\n    setLoading(true);\n    try {\n      const response = await axios.post('http://127.0.0.1:8000/ask', {\n        question\n      });\n      setAnswer(response.data.answer);\n      setImages(response.data.images);\n    } catch (error) {\n      console.error('Ошибка при отправке вопроса:', error);\n      setAnswer('Произошла ошибка. Попробуйте позже.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"App-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, \"FastAPI \\u0427\\u0430\\u0442\")), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441...\",\n    value: question,\n    onChange: e => setQuestion(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: sendQuestion,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, loading ? 'Отправка...' : 'Отправить')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"response-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, \"\\u041E\\u0442\\u0432\\u0435\\u0442:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, answer), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, \"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"images-grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, images.map((img, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"image-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: `http://127.0.0.1:8000${img.url}`,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: `http://127.0.0.1:8000${img.url}`,\n    alt: `Страница ${img.page}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 19\n    }\n  }, img.filename, \" - \\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \", img.page))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"file-upload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0444\\u0430\\u0439\\u043B\\u043E\\u0432 \\u0432 \\u0431\\u0430\\u0437\\u0443 \\u0437\\u043D\\u0430\\u043D\\u0438\\u0439:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: handleFileChange,\n    accept: \".txt, .pdf\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }), file && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 22\n    }\n  }, \"\\u0412\\u044B\\u0431\\u0440\\u0430\\u043D \\u0444\\u0430\\u0439\\u043B: \", file.name), \"// \\u041E\\u0433\\u0440\\u0430\\u043D\\u0438\\u0447\\u0435\\u043D\\u0438\\u0435 \\u0442\\u0438\\u043F\\u043E\\u0432 \\u0444\\u0430\\u0439\\u043B\\u043E\\u0432 \"))));\n}\nexport default App;","map":{"version":3,"names":["React","useState","axios","App","question","setQuestion","answer","setAnswer","images","setImages","loading","setLoading","onst","file","setFile","sendQuestion","trim","response","post","data","error","console","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","onClick","disabled","map","img","index","key","href","url","rel","src","alt","page","filename","type","handleFileChange","accept","name"],"sources":["/home/ssezmar/programming/xakatons/NorNikel2024/frontend2/llm-frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nfunction App() {\n  const [question, setQuestion] = useState('');\n  const [answer, setAnswer] = useState('');\n  const [images, setImages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  onst [file, setFile] = useState(null); \n\n  const sendQuestion = async () => {\n    if (!question.trim()) return;\n    setLoading(true);\n\n    try {\n      const response = await axios.post('http://127.0.0.1:8000/ask', { question });\n      setAnswer(response.data.answer);\n      setImages(response.data.images);\n    } catch (error) {\n      console.error('Ошибка при отправке вопроса:', error);\n      setAnswer('Произошла ошибка. Попробуйте позже.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>FastAPI Чат</h1>\n      </header>\n      <main>\n        <div className=\"chat-container\">\n          <div className=\"input-area\">\n            <textarea\n              placeholder=\"Введите ваш вопрос...\"\n              value={question}\n              onChange={(e) => setQuestion(e.target.value)}\n            />\n            <button onClick={sendQuestion} disabled={loading}>\n              {loading ? 'Отправка...' : 'Отправить'}\n            </button>\n          </div>\n          <div className=\"response-area\">\n            <h2>Ответ:</h2>\n            <p>{answer}</p>\n            <h3>Изображения:</h3>\n            <div className=\"images-grid\">\n              {images.map((img, index) => (\n                <div key={index} className=\"image-item\">\n                  <a href={`http://127.0.0.1:8000${img.url}`} target=\"_blank\" rel=\"noopener noreferrer\">\n                    <img src={`http://127.0.0.1:8000${img.url}`} alt={`Страница ${img.page}`} />\n                  </a>\n                  <p>{img.filename} - Страница {img.page}</p>\n                </div>\n              ))}\n            </div>\n          </div>\n          {/* Загрузка файла */}\n          <div className=\"file-upload\">\n            <h2>Добавление файлов в базу знаний:</h2>\n            <input\n              type=\"file\"\n              onChange={handleFileChange}\n              accept=\".txt, .pdf\"\n            />\n            {file && <p>Выбран файл: {file.name}</p>}// Ограничение типов файлов {/* Отображаем имя выбранного файла */}\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}