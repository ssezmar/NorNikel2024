{"ast":null,"code":"var _jsxFileName = \"/home/ssezmar/programming/xakatons/NorNikel2024/frontend2/llm-frontend/src/App.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\nfunction App() {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [images, setImages] = useState([]);\n  const sendMessage = async () => {\n    if (!input.trim()) return;\n    setMessages(prev => [...prev, {\n      type: 'user',\n      text: input\n    }]);\n    try {\n      const response = await axios.post('http://127.0.0.1:8000/ask', {\n        question: input\n      });\n      setMessages(prev => [...prev, {\n        type: 'bot',\n        text: response.data.answer\n      }]);\n      setImages(response.data.images || []);\n    } catch (error) {\n      setMessages(prev => [...prev, {\n        type: 'bot',\n        text: 'Ошибка сервера!'\n      }]);\n    }\n    setInput('');\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-messages\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, messages.map((message, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: `message ${message.type === 'user' ? 'user-message' : 'bot-message'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, message.text))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, images.map((image, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"image-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: `http://127.0.0.1:8000${image.url}`,\n    alt: `Page ${image.page}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }, `File: ${image.filename}, Page: ${image.page}`)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: input,\n    onChange: e => setInput(e.target.value),\n    placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: sendMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"))));\n}\nexport default App;","map":{"version":3,"names":["React","useState","axios","App","messages","setMessages","input","setInput","images","setImages","sendMessage","trim","prev","type","text","response","post","question","data","answer","error","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","message","index","key","image","src","url","alt","page","filename","value","onChange","e","target","placeholder","onClick"],"sources":["/home/ssezmar/programming/xakatons/NorNikel2024/frontend2/llm-frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nfunction App() {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [images, setImages] = useState([]);\n\n  const sendMessage = async () => {\n    if (!input.trim()) return;\n\n    setMessages((prev) => [...prev, { type: 'user', text: input }]);\n\n    try {\n      const response = await axios.post('http://127.0.0.1:8000/ask', { question: input });\n      setMessages((prev) => [...prev, { type: 'bot', text: response.data.answer }]);\n      setImages(response.data.images || []);\n    } catch (error) {\n      setMessages((prev) => [...prev, { type: 'bot', text: 'Ошибка сервера!' }]);\n    }\n\n    setInput('');\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"chat-container\">\n        <div className=\"chat-messages\">\n          {messages.map((message, index) => (\n            <div\n              key={index}\n              className={`message ${message.type === 'user' ? 'user-message' : 'bot-message'}`}\n            >\n              {message.text}\n            </div>\n          ))}\n        </div>\n\n        <div className=\"image-container\">\n          {images.map((image, index) => (\n            <div key={index} className=\"image-wrapper\">\n              <img src={`http://127.0.0.1:8000${image.url}`} alt={`Page ${image.page}`} />\n              <p>{`File: ${image.filename}, Page: ${image.page}`}</p>\n            </div>\n          ))}\n        </div>\n\n        <div className=\"chat-input\">\n          <input\n            type=\"text\"\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            placeholder=\"Введите ваш вопрос...\"\n          />\n          <button onClick={sendMessage}>Отправить</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}